plugins {
    id 'java-library'
    id 'maven-publish'
}

group 'com.mygroup'

task packageSources(type: Jar) {
	from sourceSets.main.allJava
	classifier = 'sources'
}

build.dependsOn packageSources

artifacts {
    api(packageSources)
}

publishing {
	publications {
		mavenJava(MavenPublication) {
			from components.java
			artifact packageSources
		}
	}
}